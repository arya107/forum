{"version":3,"sources":["webpack:///./src/components/FancyTextarea.vue?4f3f","webpack:///src/components/FancyTextarea.vue","webpack:///./src/components/FancyTextarea.vue?c73d","webpack:///./src/components/FancyTextarea.vue","webpack:///./src/components/routes/Start.vue?c458","webpack:///./src/components/routes/Start.vue?d5cc","webpack:///src/components/routes/Start.vue","webpack:///./src/components/routes/Start.vue?9a60","webpack:///./src/components/routes/Start.vue","webpack:///./src/components/FancyTextarea.vue?dc54"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","style","width","class","active","value","length","_v","_s","placeholder","domProps","on","$event","updateValue","target","addActive","removeActive","attrs","error","staticRenderFns","name","props","components","ErrorTooltip","data","methods","$emit","val","component","directives","rawName","panel","expression","preventDefault","createAccount","errors","username","model","callback","$$v","hash","password","confirmPassword","loading","addSettings","forumName","forumDescription","_m","addCategory","categories","join","category","finish","modal","show","FancyInput","FancyTextarea","LoadingButton","computed","clearErrors","errorCallback","modalErrors","push","message","admin","req","trim","settingsReq","axios","$router","mounted","$store","dispatch"],"mappings":"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","file":"js/chunk-495a268a.001a6faa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fancy_textarea\"},[_c('div',{staticClass:\"fancy_textarea__container\",staticStyle:{\"position\":\"relative\",\"display\":\"inline-block\"},style:({ width: _vm.width || '20rem' })},[_c('div',{staticClass:\"fancy_textarea__placeholder\",class:{\n        'fancy_textarea__placeholder--active': _vm.active || _vm.value.length,\n      }},[_vm._v(\" \"+_vm._s(_vm.placeholder)+\" \")]),_c('textarea',{staticClass:\"input fancy_textarea__textarea\",domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.updateValue($event.target.value)},\"focus\":_vm.addActive,\"blur\":_vm.removeActive}})]),_c('error-tooltip',{attrs:{\"error\":_vm.error}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"fancy_textarea\">\n    <div\n      class=\"fancy_textarea__container\"\n      style=\"position: relative; display: inline-block\"\n      v-bind:style=\"{ width: width || '20rem' }\"\n    >\n      <div\n        class=\"fancy_textarea__placeholder\"\n        :class=\"{\n          'fancy_textarea__placeholder--active': active || value.length,\n        }\"\n      >\n        {{ placeholder }}\n      </div>\n      <textarea\n        class=\"input fancy_textarea__textarea\"\n        v-bind:value=\"value\"\n        v-on:input=\"updateValue($event.target.value)\"\n        @focus=\"addActive\"\n        @blur=\"removeActive\"\n      >\n      </textarea>\n    </div>\n    <error-tooltip :error=\"error\"></error-tooltip>\n  </div>\n</template>\n\n<script>\nimport ErrorTooltip from \"./ErrorTooltip\";\n\nexport default {\n  name: \"FancyTextarea\",\n  props: [\"value\", \"placeholder\", \"width\", \"error\"],\n  components: {\n    ErrorTooltip,\n  },\n  data() {\n    return {\n      active: false,\n    };\n  },\n  methods: {\n    updateValue(val) {\n      this.$emit(\"input\", val);\n    },\n    addActive() {\n      this.active = true;\n    },\n    removeActive() {\n      this.active = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/scss/variables.scss\";\n\n.fancy_textarea {\n  position: relative;\n  margin-top: 0.25rem;\n  margin-bottom: 0.5rem;\n\n  @at-root #{&}__textarea {\n    height: 5rem;\n    width: 100%;\n  }\n\n  @at-root #{&}__placeholder {\n    position: absolute;\n    top: 0.35rem;\n    background-color: #fff;\n    left: 0.35rem;\n    color: $color__gray--darkest;\n    pointer-events: none;\n    transition: top 0.2s, font-size 0.2s;\n\n    @at-root #{&}--active {\n      top: -0.5rem;\n      font-size: 0.75rem;\n      transition: top 0.2s, font-size 0.2s;\n    }\n  }\n\n  @at-root #{&}__error {\n    position: absolute;\n    background-color: #ffeff1;\n    border: 0.125rem solid #d32f2f;\n    max-width: 100%;\n    font-size: 0.9rem;\n    padding: 0.1rem 0.25rem;\n    top: -1.75rem;\n    right: 0;\n\n    &:first-letter {\n      text-transform: capitalize;\n    }\n\n    opacity: 0;\n    pointer-events: 0;\n    margin-top: -1rem;\n    transition: opacity 0.2s, margin-top 0.2s;\n\n    @at-root #{&}--show {\n      opacity: 1;\n      pointer-events: all;\n      margin-top: 0;\n      transition: opacity 0.2s, margin-top 0.2s;\n    }\n\n    &::after {\n      content: \"\";\n      position: relative;\n      width: 0;\n      height: 0;\n      display: inline-block;\n      bottom: -0.65rem;\n      border-left: 0.3rem solid transparent;\n      border-right: 0.3rem solid transparent;\n      border-top: 0.3rem solid #d32f2f;\n    }\n  }\n}\n\n@media (max-width: 420px) {\n  .fancy_textarea {\n    @at-root #{&}__container {\n      width: 100% !important;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FancyTextarea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FancyTextarea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FancyTextarea.vue?vue&type=template&id=3f7f1836&scoped=true&\"\nimport script from \"./FancyTextarea.vue?vue&type=script&lang=js&\"\nexport * from \"./FancyTextarea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FancyTextarea.vue?vue&type=style&index=0&id=3f7f1836&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f7f1836\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=style&index=0&id=084826bc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=style&index=0&id=084826bc&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"route_container route_container--fullscreen\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panel === 1),expression:\"panel === 1\"}],staticClass:\"panel\"},[_c('div',{staticClass:\"h1\"},[_vm._v(\"Hi.\")]),_c('p',{staticClass:\"explanation\"},[_vm._v(\"First create your admin account for the forum.\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createAccount($event)}}},[_c('fancy-input',{attrs:{\"error\":_vm.errors.username,\"width\":\"100%\",\"placeholder\":\"Username\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('fancy-input',{attrs:{\"error\":_vm.errors.hash,\"width\":\"100%\",\"placeholder\":\"Password\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('fancy-input',{attrs:{\"error\":_vm.errors.confirmPassword,\"width\":\"100%\",\"placeholder\":\"Confirm password\",\"type\":\"password\"},model:{value:(_vm.confirmPassword),callback:function ($$v) {_vm.confirmPassword=$$v},expression:\"confirmPassword\"}}),_c('loading-button',{staticClass:\"button button--green\",staticStyle:{\"width\":\"100%\"},attrs:{\"loading\":_vm.loading}},[_vm._v(\" Create account \")])],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panel === 2),expression:\"panel === 2\"}],staticClass:\"panel\"},[_c('div',{staticClass:\"h1\"},[_vm._v(\"A few settings\")]),_c('p',{staticClass:\"explanation\"},[_vm._v(\"You can change these later on the admin page\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addSettings($event)}}},[_c('fancy-input',{attrs:{\"error\":_vm.errors.forumName,\"width\":\"100%\",\"placeholder\":\"Forum name\"},model:{value:(_vm.forumName),callback:function ($$v) {_vm.forumName=$$v},expression:\"forumName\"}}),_c('p',{staticClass:\"p--small\"},[_vm._v(\"What is your forum about?\")]),_c('fancy-textarea',{attrs:{\"error\":_vm.errors.forumDescription,\"width\":\"100%\",\"placeholder\":\"Forum description\"},model:{value:(_vm.forumDescription),callback:function ($$v) {_vm.forumDescription=$$v},expression:\"forumDescription\"}}),_c('loading-button',{staticClass:\"button button--green\",staticStyle:{\"width\":\"100%\"},attrs:{\"loading\":_vm.loading}},[_vm._v(\" Add settings \")])],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panel === 3),expression:\"panel === 3\"}],staticClass:\"panel\"},[_c('div',{staticClass:\"h1\"},[_vm._v(\"Categories\")]),_vm._m(0),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addCategory($event)}}},[(_vm.categories.length)?_c('p',[_c('b',[_vm._v(\"Categories:\")]),_vm._v(\" \"+_vm._s(_vm.categories.join(\", \"))+\" \")]):_c('p',[_vm._v(\"No categories added\")]),_c('div',{staticClass:\"categories_form\"},[_c('fancy-input',{attrs:{\"error\":_vm.errors.name,\"large\":true,\"error-bottom\":true,\"width\":\"calc(100% - 9rem)\",\"placeholder\":\"Category name\"},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}}),_c('loading-button',{staticClass:\"button\",attrs:{\"loading\":_vm.loading}},[_vm._v(\" Add category \")])],1)]),_c('button',{staticClass:\"button button--green\",staticStyle:{\"width\":\"100%\"},on:{\"click\":_vm.finish}},[_vm._v(\" Finish \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"explanation\"},[_vm._v(\" People post threads in categories so that they're easier to sort through\"),_c('br'),_vm._v(\" You can add or remove them later on the admin page \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"route_container route_container--fullscreen\">\n    <div class=\"panel\" v-show=\"panel === 1\">\n      <div class=\"h1\">Hi.</div>\n      <p class=\"explanation\">First create your admin account for the forum.</p>\n      <form @submit.prevent=\"createAccount\">\n        <fancy-input\n          v-model=\"username\"\n          :error=\"errors.username\"\n          width=\"100%\"\n          placeholder=\"Username\"\n        ></fancy-input>\n        <fancy-input\n          v-model=\"password\"\n          :error=\"errors.hash\"\n          width=\"100%\"\n          placeholder=\"Password\"\n          type=\"password\"\n        ></fancy-input>\n        <fancy-input\n          v-model=\"confirmPassword\"\n          :error=\"errors.confirmPassword\"\n          width=\"100%\"\n          placeholder=\"Confirm password\"\n          type=\"password\"\n        ></fancy-input>\n        <loading-button\n          style=\"width: 100%\"\n          class=\"button button--green\"\n          :loading=\"loading\"\n        >\n          Create account\n        </loading-button>\n      </form>\n    </div>\n    <div class=\"panel\" v-show=\"panel === 2\">\n      <div class=\"h1\">A few settings</div>\n      <p class=\"explanation\">You can change these later on the admin page</p>\n      <form @submit.prevent=\"addSettings\">\n        <fancy-input\n          v-model=\"forumName\"\n          :error=\"errors.forumName\"\n          width=\"100%\"\n          placeholder=\"Forum name\"\n        ></fancy-input>\n        <p class=\"p--small\">What is your forum about?</p>\n        <fancy-textarea\n          v-model=\"forumDescription\"\n          :error=\"errors.forumDescription\"\n          width=\"100%\"\n          placeholder=\"Forum description\"\n        ></fancy-textarea>\n        <loading-button\n          style=\"width: 100%\"\n          class=\"button button--green\"\n          :loading=\"loading\"\n        >\n          Add settings\n        </loading-button>\n      </form>\n    </div>\n    <div class=\"panel\" v-show=\"panel === 3\">\n      <div class=\"h1\">Categories</div>\n      <p class=\"explanation\">\n        People post threads in categories so that they're easier to sort\n        through<br />\n        You can add or remove them later on the admin page\n      </p>\n      <form @submit.prevent=\"addCategory\">\n        <p v-if=\"categories.length\">\n          <b>Categories:</b>\n          {{ categories.join(\", \") }}\n        </p>\n        <p v-else>No categories added</p>\n        <div class=\"categories_form\">\n          <fancy-input\n            v-model=\"category\"\n            :error=\"errors.name\"\n            :large=\"true\"\n            :error-bottom=\"true\"\n            width=\"calc(100% - 9rem)\"\n            placeholder=\"Category name\"\n          ></fancy-input>\n          <loading-button class=\"button\" :loading=\"loading\">\n            Add category\n          </loading-button>\n        </div>\n      </form>\n      <button style=\"width: 100%\" class=\"button button--green\" @click=\"finish\">\n        Finish\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FancyInput from \"../FancyInput\";\nimport FancyTextarea from \"../FancyTextarea\";\nimport LoadingButton from \"../LoadingButton\";\n\nimport AjaxErrorHandler from \"../../assets/js/errorHandler\";\n\nexport default {\n  name: \"start\",\n\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      forumName: \"\",\n      forumDescription: \"\",\n\n      loading: false,\n\n      category: \"\",\n      categories: [],\n\n      panel: 1,\n\n      errors: {\n        username: \"\",\n        hash: \"\",\n        confirmPassword: \"\",\n        forumName: \"\",\n        forumDescription: \"\",\n        name: \"\",\n      },\n\n      modal: {\n        show: false,\n        errors: [],\n      },\n    };\n  },\n  components: {\n    FancyInput,\n    FancyTextarea,\n    LoadingButton,\n  },\n  computed: {},\n  methods: {\n    clearErrors() {\n      this.errors.username = \"\";\n      this.errors.hash = \"\";\n      this.errors.confirmPassword = \"\";\n      this.errors.forumName = \"\";\n      this.errors.forumDescription = \"\";\n      this.errors.name = \"\";\n    },\n    errorCallback(err) {\n      this.loading = false;\n\n      AjaxErrorHandler(this.$store)(err, (error, modalErrors) => {\n        if (this.errors[error.path] !== undefined) {\n          this.errors[error.path] = error.message;\n        } else {\n          modalErrors.push(error.message);\n        }\n      });\n    },\n    createAccount() {\n      this.clearErrors();\n\n      if (this.password !== this.confirmPassword) {\n        this.errors.confirmPassword = \"passwords do not match\";\n\n        return;\n      }\n\n      let req = this.axios.post(\"/api/v1/user\", {\n        username: this.username,\n        password: this.password,\n        admin: true,\n      });\n\n      this.loading = true;\n\n      req\n        .then((res) => {\n          this.$store.commit(\"setUsername\", res.data.username);\n          this.panel = 2;\n          this.loading = false;\n        })\n        .catch(this.errorCallback);\n    },\n    addSettings() {\n      this.clearErrors();\n\n      if (!this.forumName.trim().length) {\n        this.errors.forumName = \"Forum name can't be blank\";\n        return;\n      }\n\n      this.loading = true;\n\n      let settingsReq = this.axios.put(\"/api/v1/settings\", {\n        forumName: this.forumName,\n        forumDescription: this.forumDescription,\n      });\n\n      settingsReq\n        .then((res) => {\n          this.loading = false;\n          this.$store.commit(\"setSettings\", res.data);\n          this.panel = 3;\n        })\n        .catch(this.errorCallback);\n    },\n    addCategory() {\n      this.clearErrors();\n\n      if (!this.category.length) {\n        this.errors.name = \"Category name can't be blank\";\n        return;\n      }\n\n      this.loading = true;\n\n      this.axios\n        .post(\"/api/v1/category\", {\n          name: this.category.trim(),\n        })\n        .then((res) => {\n          this.loading = false;\n          this.$store.commit(\"addCategories\", res.data);\n          this.categories.push(res.data.name);\n        })\n        .catch(this.errorCallback);\n\n      this.category = \"\";\n    },\n    finish() {\n      if (this.categories.length) this.$router.push(\"/\");\n    },\n  },\n  mounted() {\n    this.$store.dispatch(\"setTitle\", \"start\");\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/scss/variables.scss\";\n\n.route_container--fullscreen {\n  position: fixed;\n  top: 0;\n  margin: 0;\n  z-index: 10;\n  left: 0;\n  height: 100%;\n  padding: 0;\n  width: 100%;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.explanation {\n  font-size: 1.25rem;\n}\n\n.p--small {\n  margin: 0.5rem 0;\n  width: 25rem;\n}\n\n.panel {\n  width: 30rem;\n}\n\n.categories_form {\n  margin-bottom: 1rem;\n  align-items: flex-start;\n  display: flex;\n\n  .fancy_input {\n    flex-grow: 6;\n    margin: 0;\n    margin-right: 0.5rem;\n  }\n  div.button {\n    height: 2rem;\n    padding: 0.25rem 0.5rem;\n  }\n}\n\n@media (max-width: 550px) {\n  .panel {\n    width: 100%;\n    padding: 0.5rem;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Start.vue?vue&type=template&id=084826bc&scoped=true&\"\nimport script from \"./Start.vue?vue&type=script&lang=js&\"\nexport * from \"./Start.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Start.vue?vue&type=style&index=0&id=084826bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"084826bc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FancyTextarea.vue?vue&type=style&index=0&id=3f7f1836&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FancyTextarea.vue?vue&type=style&index=0&id=3f7f1836&lang=scss&scoped=true&\""],"sourceRoot":""}